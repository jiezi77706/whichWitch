# ä¾èµ–æ›´æ–°è¯´æ˜

## ğŸ”§ å·²è§£å†³çš„é—®é¢˜

### 1. npm è­¦å‘Šä¿®å¤
- âœ… ç§»é™¤äº† `auto-install-peers=true` é…ç½®ï¼ˆå·²å¼ƒç”¨ï¼‰
- âœ… æ›´æ–°äº†æ‰€æœ‰è¿‡æ—¶çš„ä¾èµ–åŒ…
- âœ… ä¿®å¤äº†å®‰å…¨æ¼æ´è­¦å‘Š

### 2. ä¸»è¦ä¾èµ–æ›´æ–°

#### å‰ç«¯æ¡†æ¶
- **Next.js**: `14.0.4` â†’ `^14.2.0`
- **React**: `^18` â†’ `^18.3.0`
- **TypeScript**: `^5` â†’ `^5.4.0`

#### Web3 ç›¸å…³
- **wagmi**: `^1.4.12` â†’ `^2.12.0` (é‡å¤§æ›´æ–°)
- **@rainbow-me/rainbowkit**: `^1.3.7` â†’ `^2.1.0` (é‡å¤§æ›´æ–°)
- **viem**: `^1.21.4` â†’ `^2.21.0`
- **ethers**: `^6.8.1` â†’ `^6.13.0`

#### å¼€å‘å·¥å…·
- **ESLint**: `^8` â†’ `^9.9.0`
- **Chai**: `^4.3.10` â†’ `^5.1.0`

#### å…¶ä»–ä¾èµ–
- **axios**: `^1.6.2` â†’ `^1.7.0`
- **dotenv**: `^17.2.3` â†’ `^16.4.0`
- **express**: `^4.18.2` â†’ `^4.19.0`

### 3. é…ç½®æ–‡ä»¶æ›´æ–°

#### app/providers.tsx
- æ›´æ–°ä¸º wagmi v2 API
- ä½¿ç”¨æ–°çš„ `getDefaultConfig` æ–¹æ³•
- æ›´æ–° RainbowKit é…ç½®

#### .npmrc
- ç§»é™¤å¼ƒç”¨çš„ `auto-install-peers` é…ç½®
- æ·»åŠ æ€§èƒ½ä¼˜åŒ–é€‰é¡¹

#### tsconfig.json
- æ·»åŠ ç±»å‹æ–‡ä»¶è·¯å¾„é…ç½®

### 4. æ–°å¢æ–‡ä»¶

#### src/types/wagmi.d.ts
- wagmi v2 ç±»å‹å…¼å®¹æ€§ä¿®å¤
- Window.ethereum ç±»å‹å£°æ˜

#### scripts/clean-install.js
- è‡ªåŠ¨æ¸…ç†å’Œé‡æ–°å®‰è£…è„šæœ¬
- è§£å†³ä¾èµ–å†²çªé—®é¢˜

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### è‡ªåŠ¨æ¸…ç†å®‰è£…ï¼ˆæ¨èï¼‰
```bash
npm run clean-install
```

### æ‰‹åŠ¨å®‰è£…
```bash
# æ¸…ç†æ—§ä¾èµ–
rm -rf node_modules package-lock.json
npm cache clean --force

# é‡æ–°å®‰è£…
npm install
```

### å¯åŠ¨é¡¹ç›®
```bash
npm run dev:full
```

## âš ï¸ é‡è¦å˜æ›´

### wagmi v2 è¿ç§»
- API å‘ç”Ÿé‡å¤§å˜åŒ–
- ä½¿ç”¨æ–°çš„ `WagmiProvider` æ›¿ä»£ `WagmiConfig`
- é…ç½®æ–¹æ³•æ›´æ–°ä¸º `getDefaultConfig`

### RainbowKit v2 è¿ç§»
- ç®€åŒ–äº†é…ç½®æ–¹å¼
- è‡ªåŠ¨å¤„ç†é’±åŒ…è¿æ¥å™¨

### ESLint v9 æ›´æ–°
- é…ç½®æ ¼å¼å¯èƒ½éœ€è¦è°ƒæ•´
- æ–°çš„è§„åˆ™å’Œæ£€æŸ¥

## ğŸ” éªŒè¯æ›´æ–°

### æ£€æŸ¥ä¾èµ–ç‰ˆæœ¬
```bash
npm list --depth=0
```

### è¿è¡Œæµ‹è¯•
```bash
npm run test:ai
npm run lint
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev:full
```

## ğŸ› å¯èƒ½çš„é—®é¢˜

### 1. ç±»å‹é”™è¯¯
å¦‚æœé‡åˆ° TypeScript ç±»å‹é”™è¯¯ï¼Œè¯·æ£€æŸ¥ï¼š
- `src/types/wagmi.d.ts` æ˜¯å¦æ­£ç¡®åŠ è½½
- æ˜¯å¦éœ€è¦é‡å¯ TypeScript æœåŠ¡å™¨

### 2. wagmi é…ç½®é”™è¯¯
å¦‚æœé’±åŒ…è¿æ¥æœ‰é—®é¢˜ï¼š
- æ£€æŸ¥ `app/providers.tsx` é…ç½®
- ç¡®è®¤ WalletConnect Project ID è®¾ç½®

### 3. æ„å»ºé”™è¯¯
å¦‚æœæ„å»ºå¤±è´¥ï¼š
- è¿è¡Œ `npm run clean-install` é‡æ–°å®‰è£…
- æ£€æŸ¥ Next.js é…ç½®å…¼å®¹æ€§

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [wagmi v2 è¿ç§»æŒ‡å—](https://wagmi.sh/react/guides/migrate-from-v1-to-v2)
- [RainbowKit v2 æ›´æ–°](https://www.rainbowkit.com/docs/migration-guide)
- [Next.js 14.2 æ›´æ–°æ—¥å¿—](https://nextjs.org/blog/next-14-2)

## ğŸ¯ ä¸‹ä¸€æ­¥

1. æµ‹è¯•æ‰€æœ‰åŠŸèƒ½æ˜¯å¦æ­£å¸¸
2. æ›´æ–° CI/CD é…ç½®ï¼ˆå¦‚æœæœ‰ï¼‰
3. è€ƒè™‘å‡çº§åˆ° React 19ï¼ˆæœªæ¥ï¼‰
4. ç›‘æ§æ–°ç‰ˆæœ¬çš„ç¨³å®šæ€§